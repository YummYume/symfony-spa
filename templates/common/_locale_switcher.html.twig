<div data-controller="dropdown tooltip">
    <button
        class="inline-flex justify-center p-2 text-gray-500 rounded cursor-pointer dark:hover:text-white dark:text-gray-400 hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-600"
        data-dropdown-target="trigger"
        data-tooltip-target="trigger"
        type="button"
    >
        {{ component('icon', { icon: 'flags/' ~ app.request.locale, class: 'h-5 w-5 mt-0.5' }) }}
    </button>

    {{ component('tooltip', { text: 'TODO' }) }}

    <div
        class="hidden z-50 my-4 text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700"
        data-dropdown-target="dropdown"
    >
        <ul class="py-1" role="none">
            {% for locale in enabled_locales %}
                <li>
                    <a
                        class="block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:text-white dark:text-gray-300 dark:hover:bg-gray-600"
                        href="{{ path(app.current_route ?? "app_homepage", (app.current_route_parameters ?? [])|merge({ _locale: locale })) }}"
                        role="menuitem"
                    >
                        <div class="inline-flex items-center">
                            {{ component('icon', { icon: 'flags/' ~ locale, class: 'h-3.5 w-3.5 mr-2' }) }}
                            {{ locale|locale_name(app.request.locale) }}
                        </div>
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
