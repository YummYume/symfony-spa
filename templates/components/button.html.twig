{% set tag = button ? "button" : "a" %}

<{{ tag }}
    class="{{ class }}"
    {% if button %}
        type="{{ submit ? "submit" : "button" }}"
        {% if form %}form="{{ form }}"{% endif %}
    {% else %}
        href="{{ href }}"
        {% if target %}target="{{ target }}"{% endif %}
        {% if externalLink %}
            rel="external noopener noreferrer"
        {% endif %}
    {% endif %}
    {% if id %}id="{{ id }}"{% endif %}
    {% if disabled %}disabled{% endif %}
    {% if ariaLabel %}aria-label="{{ ariaLabel }}"{% endif %}
    {% for key, prop in additionalProps %}
        {{ key }}="{{ prop }}"
    {% endfor %}
    {{ attributes }}
>
    {% if icon or content %}
        {% if icon and iconPosition == "left" %}
            {{ component('icon', { icon: '#{icon}' }) }}
        {% endif %}
        {{ content }}
        {% if icon and iconPosition == "right" %}
            {{ component('icon', { icon: '#{icon}' }) }}
        {% endif %}
    {% else %}
        {% block content %}

        {% endblock %}
    {% endif %}
</{{ tag }}>
